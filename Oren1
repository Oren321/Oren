-- Load Fluent UI Library
local Library = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()

-- Create a UI window
local Window = Library:Window("Merchant Purchases")

-- Define available merchants
local Merchants = {"CloverMerchant", "GoldenMerchant", "DiamondMerchant"}

-- Create a multi-select dropdown
local MultiDropdown = Window:AddDropdown("MerchantDropdown", {
    Title = "Select Merchants to Purchase",
    Values = Merchants,
    Multi = true,  -- Enables multi-selection
})

-- Function to handle purchase requests
local function purchaseMerchant(selectedMerchants)
    for merchant, isSelected in pairs(selectedMerchants) do
        if isSelected then
            local args = {
                [1] = merchant,  -- Selected merchant name
                [2] = 2          -- Quantity (Adjust as needed)
            }
            game:GetService("ReplicatedStorage"):WaitForChild("Network"):WaitForChild("CustomMerchants_Purchase"):InvokeServer(unpack(args))
            print("Purchased from: " .. merchant)
        end
    end
end

-- Trigger purchase when selections change
MultiDropdown:OnChanged(function(selectedMerchants)
    purchaseMerchant(selectedMerchants)
end)
