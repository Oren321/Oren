--UI
local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()

--Window
local Window = Fluent:CreateWindow({
    Title = "Private Script" .. Fluent.Version,
    SubTitle = "By Fred And Massy",
    TabWidth = 160,
    Size = UDim2.fromOffset(580, 460),
    Acrylic = true, -- The blur may be detectable, setting this to false disables blur entirely
    Theme = "Darker",
    MinimizeKey = Enum.KeyCode.LeftControl -- Used when theres no MinimizeKeybind
})

--Tabs
local Tabs = {
    Event = Window:AddTab({ Title = "Event", Icon = "" }),
}

-- Event Toggles
local Toggle = Tabs.Event:AddToggle("Event", 
{
    Title = "Auto Roll Clover Egg", 
    Description = "",
    Default = false,
    Callback = function(state)
        if state then
            getgenv().Eggs_Roll2 = true
            while getgenv().Eggs_Roll2 do
                game:GetService("ReplicatedStorage"):WaitForChild("Network"):WaitForChild("Clovers_HatchEgg"):InvokeServer()
                task.wait(16)
            end
        else
            getgenv().Eggs_Roll2 = false
        end
    end 
})

local Toggle = Tabs.Event:AddToggle("Event", 
{
    Title = "Auto Collect Clovers", 
    Description = "",
    Default = false,
    Callback = function(state)
        if state then
            getgenv().AutoCollectClover = true
            while getgenv().AutoCollectClover do
                local clovers = workspace.__THINGS.Clovers

                local function fireTouchInterest(part)
                    local playerChar = game.Players.LocalPlayer.Character
                    local primaryPart = playerChar and playerChar.PrimaryPart or part
                    firetouchinterest(part, primaryPart, 0)
                    firetouchinterest(part, primaryPart, 1)
                end

                for _, model in pairs(clovers:GetChildren()) do
                    local part = model:FindFirstChild("Part")
                    if part then
                        fireTouchInterest(part)
                    end
                end
                task.wait()
            end
        else
            getgenv().AutoCollectClover = false
        end
    end
})

local Toggle = Tabs.Event:AddToggle("Event", 
{
    Title = "Auto Collect Hopper Loot", 
    Description = "Automatically collects hopper loot every 30 seconds.",
    Default = false,
    Callback = function(state)
        if state then
            print("Auto Collect Hopper Loot: ON")
            getgenv().AutoFish = true
            -- Start the loop to collect loot every 30 seconds
            spawn(function()
                while getgenv().AutoFish do
                    game:GetService("ReplicatedStorage"):WaitForChild("Network"):WaitForChild("Clovers_HopperClaim"):InvokeServer()
                    task.wait(30)  -- Wait for 30 seconds
                end
            end)
        else
            print("Auto Collect Hopper Loot: OFF")
            getgenv().AutoFish = false
        end
    end 
})
